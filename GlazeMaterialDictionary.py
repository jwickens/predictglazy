synonyms = [
    'APM 112',
    'Albany slip',
    'Alberta Slip',
    'Alkaline Frit',
    'Alumina',
    ['Alumina Hidrate', 'Alumina Hydrate', 'Alumina Hydrate'],
    'Amblygonite',
    'Ammonium Sulfate',
    'Amtalc-C98 Talc',
    'Anorthite Feldspar',
    'BPS Soda feldspar',
    'BPS potash feldspar',
    ['Ball Clay', 'Ball Clay Bell Dark'], 'Ball Clay HSM (Solargil 2018)', 'Barium Carbonate', 'Barnard Clay', 'Barnard Slip', 'Basalt', 'Bentonite', 'Bentonite (Solargil 2018)', 'Black Ball Clay', 'Black Iron Oxide', 'Black Stain C-8382', 'Blue Heron Stain', 'Bone Ash', 'Borax', 'Boric Acid', 'Buckingham feldspar', 'C & C  ball clay', 'C-6 Soda Feldspar', 'C-Red Clay', 'CMC', 'Calcined Grolleg Kaolin', 'Calcined Kaolin', 'Calcined New Zealand Halloysite', 'Calcined Talc, Magnesium Silicate', 'Calcium Borate', 'Calcium Molybdate (Powellite)', 'Calcium borate frit', 'Calcium sulfate', 'Camadil Dolomite', 'Carbonate de Chaux (Solargil 2018)', "Cendre d'Os (Solargil 2018)", 'China Clay 232 (KK)', 'Chrome Oxide', 'Cobalt Carbonate', 'Cobalt Oxide', 'Colemanite', 'Copper Carbonate', 'Copper Oxide', 'Cornwall Stone', 'Crecer Frit 804', 'Crecer Frit 857', 'Crocus Martis', 'Crocus martis', 'Cryolite', 'Custer - new', 'Custer Feldspar', 'Custer Feldspar (1989)', 'Custer Feldspar (2000-2012 Ron Roy)', 'Devon China Clay', 'Dolomie (Solargil 2018)', 'Dolomite', 'EPK', 'Enos Park Earthenware', 'Epsom salts', 'Erbium Oxide', 'FELDSPATH CUSTER (Orthose)', 'FFF K7 feldspar', 'FR7 fritte boro-alcaline (Solargil 2018)', 'FR8 fritte boro-calcique (Solargil 2018)', 'Feldspar', 'Feldspar FFF', 'Feldspath potassique ICE10 (Solargil 2018)', 'Fer Oxyde Naturel (Solargil 2018)', 'Ferro Frit 3249', 'Ferro Frit 3269', 'Ferro Frit 4110', 'Ferro Frit CC-279-3, CC-279', 'Fluorspar', 'Forshammer Feldspar', 'Frit 3110', 'Frit 3124', 'Frit 3134', 'Frit 3195', 'Frit 3249', 'Frit 3269', 'Frit 3278', 'Frit 90158', 'Frit FSB 510 Na2O', 'Frit P 2962', 'Frit P-25', 'Frit P-626', 'Frit P2245', 'Frit, Fusion 75', 'Frit, Johnson Matthey 169', 'Fritte Borax M1 - Keramikos, Haarlem', 'Fusion Frit 413', 'Fusion Frit F-493', 'G-200 Feldspar', 'G200 EU Feldspar', 'G200 HP Feldspar, G200HP', 'Galisteo Red Clay', 'Gerstley Borate', 'Gerstley Borate (Solargil 2018)', 'Gerstley boraat synthethisch  (Ker_CH158)', 'Gillespie Borate', 'Glaze Stone 釉果 2015', 'Goldart', 'Granular ilmenite', 'Granular manganese', 'Granular rutile', 'Green nickel oxide', 'Grolleg Kaolin', 'HVAR Ball Clay', 'Hardwood ash', 'Hess Pumice', 'High Alkali Frit P2962', 'High Alkaline Ferro P3134', 'Holmium Oxide', 'Hymod AT Ball Clay', 'Hymod AT Ball Clay', 'Hyplas 71 Ball Clay', 'Hyplas 71 Ball Clay P3354', 'Hyplas 71 Ball clay', 'Hyplas Ball Clay', 'Ilmenite', 'Imco 800 Fireclay', 'Iron Chromate', 'Iron Chromate', 'Iron chromate', 'Iron oxide', 'Iron spangles', 'Jackson Ball Clay', 'K-200 Feldspar', 'KAOLIN (EPK)', 'Kaolin', 'Kaolin G', 'Kaolin G1', 'Kaolin Sur del Río - blanco', 'Kaolin pulvérisé (Solargil 2018)', 'Kentucky OM #4 Ball Clay', 'Kentucky Stone', 'Kentucky ball clay', 'Kingman Feldspar', 'Kona F-4 feldspar', 'Laguna Borate', 'Lead Bisilicate Frit', 'Lead monosilicate', 'Lepidolite', 'Limestone', 'Lincoln Fire Clay', 'Lithium Carbonate', 'Lithium Fluoride', 'Lithium carbonaat (Ker_CH118)', 'MDF wood ash', 'MKF2', 'MOK1 Borax Frit', 'Macaloid', 'Magnesite GW', 'Magnesium carbonaat (Ker_CH121)', 'Magnesium carbonate', 'Mahavir Potash Feldspar', 'Manganese Carbonate', 'Manganese Dioxide', 'Mason 6600 black stain', 'Mason Stain 6006 - Deep Crimson', 'Mason Stain 6315 - Vanadium Blue', 'Mason Stain 6435', 'Mason stain', 'Mason stain 6500', 'Minspar 200 Feldspar', 'Mixed wood ash', 'Molochite', 'Molochite (kaolin calciné) (Solargil 2018)', 'NC-4 Feldspar', 'NGP Potassium feldspar', 'NR Potassium Feldspar', 'Navajo Pumice', 'Neodymium Oxide', 'Neph Sye A270', 'Nephelin Syenit 334/', 'Nepheline Syenite', 'Nepheline Syenite Norwegian', 'Nepheline Syenite, North Cape', 'Nepheline syenite(Ker_CH124)', 'New Zealand Halloysite, Kaolin', 'Newman Red Clay', 'Nickel Carbonate', 'Nickel Oxide', 'Norfloat Sodium Feldspar', 'Néphéline syenite (Solargil 2018)', 'Oldenwalder Clay', 'P10 sanidine', 'P16 ash', 'P17 Terra rossa - Italian for red Mediterranean soil', 'P18 Marna ocra del Sanguinaro', 'P19 Diaspro verde', 'P2963 Soft Alkaline Frit', 'P41 La Crocetta II (Italian for small cross)', 'P42 kaolin San Rocco', 'P45 - silica Podere Morticini', 'P47 ocra Podere Morticini', 'P50 mixed Wood ash', 'P54 pratoleva kaolin', 'P7 Leucite', 'Pearl Ash', 'Petalite', 'Pine wood ash', 'Plastic Vitrox', 'Potash Feldspar', 'Potash Feldspar (Zheng Yi SK7)', 'Potash Feldspar CPS', 'Potash Feldspar K 2/75', 'Potclays/BPS High Alkaline Frit', 'Praseodymium oxide', 'Quantum AP200F  Potassium Feldspar', 'Quartz / Silice 325M', 'Ravenscrag Slip', 'Raw umber', 'Red Terracotta', 'Red clay', 'Red copper oxide', 'Red iron oxide', 'Red stain', 'Redart', 'Refined Overberg Earthenware', 'Rice straw ash', 'Roseville Clay', 'Rutiel  (Ker_CH128', 'Rutile', 'Salt', 'Samarium Oxide', 'Sanbao Porcelain Stone 三宝瓷石', 'Silica', 'Silica', 'Silice 400 (Solargil 2018)', 'Silicium / Kwarts  (Ker_CH117)', 'Silicon Carbide #1000', 'Silicon carbide', 'Soda Ash', 'Soda Feldspar', 'Spodumene', 'Spodumene - Australian', 'Spodumene - Canadian', 'Standard borax frit', 'Strontium Carbonate', 'Superpax', 'Talc', 'Talc - CPS', 'Talc - amtalc c98/pioneer', 'Talc 2C (Solargil 2018)', 'Tennessee #1 Ball Clay', 'Tennessee #10 Ball Clay', 'Tennessee #5 Ball Clay', 'Tennessee ball clay', 'Tholeiite Volcano - Icelandic Basalt', 'Tile #6', 'Tin Oxide', 'Tinkar Z', 'Titanium Dioxide', 'Toasted Stoneware Clay', 'Tricalcium Phosphate, Synthetic Bone Ash', 'Ulexite', 'Ulexite', 'Ultrox', 'Vanadium pentoxide', 'Vansil W-30 Wollastonite', 'Veegum T', 'Victoria Green Stain', 'Volcanic Ash', 'Volcanic ash - Great Plains', 'Water', 'Whiting', 'Whiting - Kulubrite', 'Wollastonite', 'Wollastonite - Vansil', 'Wood ash', 'Yellow Ochre', 'Yellow iron oxide', 'Yellow stain', 'Zettlitzer kaolin', 'Zinc Barium Frit 90420', 'Zinc Oxide', 'Zinc carbonate', 'Zirconium dioxide', 'Zircopax', 'petalite', 'Борат кальция', 'Волластонит (МИВОЛЛ)', 'Каолин КФН-2', 'Кварцевая мука Silverbond 15', 'Нефелин Сиенит (Altaflux-45)']


class MaterialDictionary:
    def __init__(self, raw_data):
        self.raw_data = raw_data
        self.process_materials()

    def process_materials(self):
        self.by_mid = {}
        self.id_to_mid = {}
        i = 0
        for data in self.raw_data:
            if 'materialComponents' in data:
                for material in data['materialComponents']:
                    mid = material['material']['id']
                    name = material['material']['name']
                    if mid in self.by_mid:
                        if self.by_mid[mid]['name'] != name:
                            print('id mismatch for material %s' % name)
                    else:
                        self.by_mid[mid] = {'name': name, 'norm_id': i}
                        self.id_to_mid[i] = mid
                        i += 1
            else:
                print('no material components in %s' % data['id'])
        self.size = i + 1

    def get_material_by_id(self, idx):
        mid = self.id_to_mid[idx]
        return self.by_mid[mid]

    def __len__(self):
        return self.size
